import{c as N,j as e,R as c}from"./styles-CO_VgWlz.js";function l({label:s,name:d,placeholder:h,value:r,onChange:i}){const[u,m]=c.useState(r??"");c.useEffect(()=>{m(r??"")},[r]);const x=t=>{const b=t.target.value;m(b),i(d,b)};return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"block text-sm font-medium text-gray-800 mb-1",children:s}),e.jsx("input",{type:"text",value:u,onChange:x,placeholder:h,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition"})]})}function f(){const[s,d]=c.useState({}),[h,r]=c.useState(""),[i,u]=c.useState("profile"),[m,x]=c.useState(!1);c.useEffect(()=>{(async()=>{try{const a=await chrome.runtime.sendMessage({type:"GET_PROFILE"});d((a==null?void 0:a.profile)||{})}catch(a){r(`Load error: ${a==null?void 0:a.message}`)}})()},[]);const t=(a,n)=>{d(o=>({...o,[a]:n}))},b=async()=>{r("Saving..."),x(!0);try{const a=await chrome.runtime.sendMessage({type:"SAVE_PROFILE",profile:s});a!=null&&a.ok?r("Saved!"):r(`Save error: ${(a==null?void 0:a.error)||"unknown"}`)}catch(a){r(`Save error: ${a==null?void 0:a.message}`)}finally{x(!1)}},v=()=>{d(a=>({...a,customFields:[...a.customFields||[],{name:"",value:""}]}))},p=(a,n,o)=>{d(j=>{const g=[...j.customFields||[]];return g[a]={...g[a],[n]:o},{...j,customFields:g}})},y=a=>{d(n=>{const o=[...n.customFields||[]];return o.splice(a,1),{...n,customFields:o}})};return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx("header",{className:"border-b bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/60 sticky top-0 z-10",children:e.jsxs("div",{className:"mx-auto max-w-5xl px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"/icons/icon1.svg",alt:"SmartFill",className:"w-12 h-12 rounded-lg"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold leading-tight",children:"SmartFill"}),e.jsx("p",{className:"text-xs text-gray-500 -mt-0.5",children:"Autofill profile & custom inputs"})]})]}),e.jsxs("nav",{className:"flex items-center gap-2 text-sm",children:[e.jsx("button",{onClick:()=>u("profile"),className:`px-3 py-2 rounded-md border ${i==="profile"?"bg-blue-50 text-blue-700 border-blue-200":"bg-white hover:bg-gray-50 border-gray-200 text-gray-700"}`,children:"Profile"}),e.jsx("button",{onClick:()=>u("custom"),className:`px-3 py-2 rounded-md border ${i==="custom"?"bg-blue-50 text-blue-700 border-blue-200":"bg-white hover:bg-gray-50 border-gray-200 text-gray-700"}`,children:"Custom Inputs"})]})]})}),e.jsx("main",{className:"flex-1 py-6",children:e.jsxs("div",{className:"mx-auto max-w-5xl px-4 sm:px-6 lg:px-8",children:[i==="profile"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("section",{className:"lg:col-span-2 bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[e.jsx("h2",{className:"text-base font-semibold mb-4",children:"Contact"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(l,{label:"Full Name",name:"fullName",placeholder:"John Doe",value:s==null?void 0:s.fullName,onChange:t}),e.jsx(l,{label:"Email",name:"email",placeholder:"john@example.com",value:s==null?void 0:s.email,onChange:t}),e.jsx(l,{label:"Phone",name:"phone",placeholder:"+1 555-1234",value:s==null?void 0:s.phone,onChange:t})]}),e.jsx("h2",{className:"text-base font-semibold mt-6 mb-4",children:"Work"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(l,{label:"Company",name:"company",placeholder:"Acme Inc.",value:s==null?void 0:s.company,onChange:t}),e.jsx(l,{label:"Job Title",name:"jobTitle",placeholder:"Software Engineer",value:s==null?void 0:s.jobTitle,onChange:t}),e.jsx(l,{label:"Website",name:"website",placeholder:"https://example.com",value:s==null?void 0:s.website,onChange:t}),e.jsx(l,{label:"LinkedIn",name:"linkedin",placeholder:"https://linkedin.com/in/john",value:s==null?void 0:s.linkedin,onChange:t})]}),e.jsx("h2",{className:"text-base font-semibold mt-6 mb-4",children:"Address"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(l,{label:"Address Line 1",name:"address1",placeholder:"123 Main St",value:s==null?void 0:s.address1,onChange:t}),e.jsx(l,{label:"Address Line 2",name:"address2",placeholder:"Apt 4B",value:s==null?void 0:s.address2,onChange:t}),e.jsx(l,{label:"City",name:"city",placeholder:"San Francisco",value:s==null?void 0:s.city,onChange:t}),e.jsx(l,{label:"State/Province",name:"state",placeholder:"CA",value:s==null?void 0:s.state,onChange:t}),e.jsx(l,{label:"ZIP/Postal",name:"zip",placeholder:"94105",value:s==null?void 0:s.zip,onChange:t}),e.jsx(l,{label:"Country",name:"country",placeholder:"USA",value:s==null?void 0:s.country,onChange:t})]})]}),e.jsxs("aside",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[e.jsx("h3",{className:"text-base font-semibold",children:"Tips"}),e.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-gray-600 list-disc pl-5",children:[e.jsx("li",{children:"Use realistic info to improve matching."}),e.jsx("li",{children:"Keep the page focused when using Autofill."}),e.jsx("li",{children:"You can add extra fields under Custom Inputs."})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl border border-blue-100 p-6",children:[e.jsx("h3",{className:"text-base font-semibold text-blue-900",children:"Need a new field?"}),e.jsx("p",{className:"text-sm text-blue-900/80 mt-1",children:"Add it by label name and we’ll try to find and fill it automatically."}),e.jsx("button",{onClick:()=>u("custom"),className:"mt-3 inline-flex items-center px-3 py-2 rounded-md bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Go to Custom Inputs"})]})]})]}),i==="custom"&&e.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-base font-semibold",children:"Custom Inputs"}),e.jsx("button",{onClick:v,className:"px-3 py-2 rounded-md bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Add Custom Input"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'We match by visible label/title/placeholder on the page. Example name: "Middle Name"'}),e.jsxs("div",{className:"space-y-3",children:[(s.customFields||[]).map((a,n)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr,1fr,auto] gap-2 items-start",children:[e.jsx("input",{type:"text",value:a.name||"",onChange:o=>p(n,"name",o.target.value),placeholder:"Field name (e.g., Middle Name)",className:"rounded-lg border border-gray-300 px-3 py-2 text-sm outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}),e.jsx("input",{type:"text",value:a.value||"",onChange:o=>p(n,"value",o.target.value),placeholder:"Value",className:"rounded-lg border border-gray-300 px-3 py-2 text-sm outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}),e.jsx("button",{onClick:()=>y(n),className:"h-10 px-3 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 text-sm",children:"Remove"})]},n)),!(s.customFields||[]).length&&e.jsx("div",{className:"text-sm text-gray-500",children:"No custom inputs yet."})]})]})]})}),e.jsx("div",{className:"sticky bottom-0 z-10 border-t bg-white/85 backdrop-blur supports-[backdrop-filter]:bg-white/70",children:e.jsxs("div",{className:"mx-auto max-w-5xl px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:h||"Make changes and click Save"}),e.jsx("button",{onClick:b,disabled:m,className:`px-4 py-2 rounded-md text-white ${m?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:m?"Saving…":"Save"})]})})]})}N(document.getElementById("root")).render(e.jsx(f,{}));
